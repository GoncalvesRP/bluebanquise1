---
- name: Converge
  hosts: all

  vars:
    networks:
      ice1-1:
        subnet: 10.11.0.0
        prefix: 16
        firewall:
          zone: "internal"
      ice2-1:
        subnet: 10.12.0.0
        prefix: 16
        firewall:
          zone: "internal"
      interconnect1:
        subnet: 10.21.0.0
        prefix: 16
        firewall:
          zone: "trusted"
    j2_role_variables: "{{ vars[role_name + '_' + ansible_facts.distribution + '_' + ansible_facts.distribution_version] | default(vars[role_name + '_' + ansible_facts.distribution + '_' + ansible_facts.distribution_major_version]) | default(vars[role_name + '_' + ansible_facts.distribution]) | default(vars[role_name + '_' + ansible_facts.os_family + '_' + ansible_facts.distribution_version]) | default(vars[role_name + '_' + ansible_facts.os_family + '_' + ansible_facts.distribution_major_version]) | default(vars[role_name + '_' + ansible_facts.os_family]) | default(vars[role_name + '_generic']) }}"

  tasks:
    - name: "Include firewall"
      include_role:
        name: "firewall"
